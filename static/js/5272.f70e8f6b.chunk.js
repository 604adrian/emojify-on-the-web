"use strict";(self.webpackChunkweb_emojify=self.webpackChunkweb_emojify||[]).push([[5272],{9671:(e,t,n)=>{n.d(t,{ZP:()=>N});const i=new Set,s=new WeakMap,r=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakSet;let h,p=0,f=0;const v="__aa_tgt",g="__aa_del",m="__aa_new",y=e=>{const t=function(e){const t=e.reduce(((e,t)=>[...e,...Array.from(t.addedNodes),...Array.from(t.removedNodes)]),[]);return!t.every((e=>"#comment"===e.nodeName))&&e.reduce(((e,t)=>{if(!1===e)return!1;if(t.target instanceof Element){if(L(t.target),!e.has(t.target)){e.add(t.target);for(let n=0;n<t.target.children.length;n++){const i=t.target.children.item(n);if(i){if(g in i)return!1;L(t.target,i),e.add(i)}}}if(t.removedNodes.length)for(let n=0;n<t.removedNodes.length;n++){const i=t.removedNodes[n];if(g in i)return!1;i instanceof Element&&(e.add(i),L(t.target,i),r.set(i,[t.previousSibling,t.nextSibling]))}}return e}),new Set)}(e);t&&t.forEach((e=>function(e){var t;const n=e.isConnected,i=s.has(e);n&&r.has(e)&&r.delete(e);a.has(e)&&(null===(t=a.get(e))||void 0===t||t.cancel());m in e?H(e):i&&n?function(e){const t=s.get(e),n=S(e);if(!T(e))return s.set(e,n);let i;if(!t)return;const r=A(e);if("function"!==typeof r){const s=t.left-n.left,a=t.top-n.top,[o,l,c,u]=P(e,t,n),d={transform:"translate(".concat(s,"px, ").concat(a,"px)")},h={transform:"translate(0, 0)"};o!==l&&(d.width="".concat(o,"px"),h.width="".concat(l,"px")),c!==u&&(d.height="".concat(c,"px"),h.height="".concat(u,"px")),i=e.animate([d,h],{duration:r.duration,easing:r.easing})}else{const[s]=z(r(e,"remain",t,n));i=new Animation(s),i.play()}a.set(e,i),s.set(e,n),i.addEventListener("finish",b.bind(null,e))}(e):i&&!n?function(e){var t;if(!r.has(e)||!s.has(e))return;const[n,i]=r.get(e);Object.defineProperty(e,g,{value:!0,configurable:!0});const o=window.scrollX,l=window.scrollY;i&&i.parentNode&&i.parentNode instanceof Element?i.parentNode.insertBefore(e,i):n&&n.parentNode?n.parentNode.appendChild(e):null===(t=O(e))||void 0===t||t.appendChild(e);if(!T(e))return W(e);const[c,u,d,v]=function(e){const t=s.get(e),[n,,i]=P(e,t,S(e));let r=e.parentElement;for(;r&&("static"===getComputedStyle(r).position||r instanceof HTMLBodyElement);)r=r.parentElement;r||(r=document.body);const a=getComputedStyle(r),o=s.get(r)||S(r),l=Math.round(t.top-o.top)-x(a.borderTopWidth),c=Math.round(t.left-o.left)-x(a.borderLeftWidth);return[l,c,n,i]}(e),m=A(e),y=s.get(e);o===p&&l===f||function(e,t,n,i){const s=p-t,r=f-n,a=document.documentElement.style.scrollBehavior;"smooth"===getComputedStyle(h).scrollBehavior&&(document.documentElement.style.scrollBehavior="auto");if(window.scrollTo(window.scrollX+s,window.scrollY+r),!e.parentElement)return;const o=e.parentElement;let l=o.clientHeight,c=o.clientWidth;const u=performance.now();function d(){requestAnimationFrame((()=>{if(!j(i)){const e=l-o.clientHeight,t=c-o.clientWidth;u+i.duration>performance.now()?(window.scrollTo({left:window.scrollX-t,top:window.scrollY-e}),l=o.clientHeight,c=o.clientWidth,d()):document.documentElement.style.scrollBehavior=a}}))}d()}(e,o,l,m);let w,b={position:"absolute",top:"".concat(c,"px"),left:"".concat(u,"px"),width:"".concat(d,"px"),height:"".concat(v,"px"),margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(j(m)){const[t,n]=z(m(e,"remove",y));!1!==(null===n||void 0===n?void 0:n.styleReset)&&(b=(null===n||void 0===n?void 0:n.styleReset)||b,Object.assign(e.style,b)),w=new Animation(t),w.play()}else Object.assign(e.style,b),w=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:m.duration,easing:"ease-out"});a.set(e,w),w.addEventListener("finish",W.bind(null,e,b))}(e):H(e)}(e)))},w=e=>{e.forEach((e=>{e.target===h&&(clearTimeout(u.get(h)),u.set(h,setTimeout((()=>{i.forEach((e=>R(e,(e=>k((()=>b(e)))))))}),100))),s.has(e.target)&&b(e.target)}))};function b(e){clearTimeout(u.get(e));const t=A(e),n=j(t)?500:t.duration;u.set(e,setTimeout((async()=>{const t=a.get(e);try{await(null===t||void 0===t?void 0:t.finished),s.set(e,S(e)),function(e){const t=o.get(e);null===t||void 0===t||t.disconnect();let n=s.get(e),i=0;n||(n=S(e),s.set(e,n));const{offsetWidth:r,offsetHeight:a}=h,l=[n.top-5,r-(n.left+5+n.width),a-(n.top+5+n.height),n.left-5].map((e=>"".concat(-1*Math.floor(e),"px"))).join(" "),c=new IntersectionObserver((()=>{++i>1&&b(e)}),{root:h,threshold:1,rootMargin:l});c.observe(e),o.set(e,c)}(e)}catch{}}),n))}function E(e){setTimeout((()=>{l.set(e,setInterval((()=>k(b.bind(null,e))),2e3))}),Math.round(2e3*Math.random()))}function k(e){"function"===typeof requestIdleCallback?requestIdleCallback((()=>e())):requestAnimationFrame((()=>e()))}let C,M;function L(e,t){t||v in e?t&&!(v in t)&&Object.defineProperty(t,v,{value:e}):Object.defineProperty(e,v,{value:e})}function x(e){return Number(e.replace(/[^0-9.\-]/g,""))}function S(e){const t=e.getBoundingClientRect(),{x:n,y:i}=function(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}(e);return{top:t.top+i,left:t.left+n,width:t.width,height:t.height}}function P(e,t,n){let i=t.width,s=t.height,r=n.width,a=n.height;const o=getComputedStyle(e);if("content-box"===o.getPropertyValue("box-sizing")){const e=x(o.paddingTop)+x(o.paddingBottom)+x(o.borderTopWidth)+x(o.borderBottomWidth),t=x(o.paddingLeft)+x(o.paddingRight)+x(o.borderRightWidth)+x(o.borderLeftWidth);i-=t,r-=t,s-=e,a-=e}return[i,r,s,a].map(Math.round)}function A(e){return v in e&&c.has(e[v])?c.get(e[v]):{duration:250,easing:"ease-in-out"}}function O(e){if(v in e)return e[v]}function T(e){const t=O(e);return!!t&&d.has(t)}function R(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((t=>t(e,c.has(e))));for(let s=0;s<e.children.length;s++){const t=e.children.item(s);t&&n.forEach((e=>e(t,c.has(t))))}}function z(e){return Array.isArray(e)?e:[e]}function j(e){return"function"===typeof e}function H(e){m in e&&delete e[m];const t=S(e);s.set(e,t);const n=A(e);if(!T(e))return;let i;if("function"!==typeof n)i=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*n.duration,easing:"ease-in"});else{const[s]=z(n(e,"add",t));i=new Animation(s),i.play()}a.set(e,i),i.addEventListener("finish",b.bind(null,e))}function W(e,t){var n;e.remove(),s.delete(e),r.delete(e),a.delete(e),null===(n=o.get(e))||void 0===n||n.disconnect(),setTimeout((()=>{if(g in e&&delete e[g],Object.defineProperty(e,m,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const n in t)e.style[n]=""}),0)}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(C&&M){window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!j(t)&&!t.disrespectUserMotionPreference||(d.add(e),"static"===getComputedStyle(e).position&&Object.assign(e.style,{position:"relative"}),R(e,b,E,(e=>null===M||void 0===M?void 0:M.observe(e))),j(t)?c.set(e,t):c.set(e,{duration:250,easing:"ease-in-out",...t}),C.observe(e,{childList:!0}),i.add(e))}return Object.freeze({parent:e,enable:()=>{d.add(e)},disable:()=>{d.delete(e)},isEnabled:()=>d.has(e)})}"undefined"!==typeof window&&(h=document.documentElement,C=new MutationObserver(y),M=new ResizeObserver(w),window.addEventListener("scroll",(()=>{f=window.scrollY,p=window.scrollX})),M.observe(h))},4316:(e,t,n)=>{n.d(t,{d1A:()=>s});var i=n(2119);function s(e){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"},child:[]}]})(e)}},4330:(e,t,n)=>{n.d(t,{Vmf:()=>s,iXN:()=>r});var i=n(2119);function s(e){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(e)}function r(e){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432.8 136v96H122.3l84.4-86.2-33.2-33.8L32 256l141.5 144 33.2-33.8-84.4-86.2H480V136h-47.2z"},child:[]}]})(e)}},2119:(e,t,n)=>{n.d(t,{w_:()=>p});var i=n(2791),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r=i.createContext&&i.createContext(s),a=["attr","size","title"];function o(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return e&&e.map(((e,t)=>i.createElement(e.tag,u({key:t},e.attr),h(e.child))))}function p(e){return t=>i.createElement(f,l({attr:u({},e.attr)},t),h(e.child))}function f(e){var t=t=>{var n,{attr:s,size:r,title:c}=e,d=o(e,a),h=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:n,style:u(u({color:e.color||t.color},t.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),c&&i.createElement("title",null,c),e.children)};return void 0!==r?i.createElement(r.Consumer,null,(e=>t(e))):t(s)}},3248:(e,t,n)=>{n.d(t,{wr:()=>ve});var i=n(2791);function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t){s(e,t),t.add(e)}function a(e,t,n){s(e,t),t.set(e,n)}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function c(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,l(e,t,"get"))}function u(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,l(e,t,"set"),n),n}const d=/[^\P{P}'/-]+/gu,h=e=>e.replace(d,"");var p=function(e){return e.BOUNDARY="boundary",e.END="end",e.ERROR="error",e.PAUSED="paused",e.PITCH="pitch",e.PLAYING="playing",e.RATE="rate",e.READY="ready",e.VOLUME="volume",e}(p||{}),f=new WeakMap,v=new WeakMap,g=new WeakMap,m=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakMap,E=new WeakMap,k=new WeakMap,C=new WeakSet,M=new WeakSet,L=new WeakSet,x=new WeakSet,S=new WeakSet,P=new WeakSet,A=new WeakSet,O=new WeakSet,T=new WeakSet,R=new WeakSet,z=new WeakSet,j=new WeakSet,H=new WeakSet,W=new WeakSet,N=new WeakSet,B=new WeakSet,D=new WeakSet,U=new WeakSet;class V extends EventTarget{constructor(e){var t,n;super(),r(this,U),r(this,D),r(this,B),r(this,N),r(this,W),r(this,H),r(this,j),r(this,z),r(this,R),r(this,T),r(this,O),r(this,A),r(this,P),r(this,S),r(this,x),r(this,L),r(this,M),r(this,C),a(this,f,{writable:!0,value:void 0}),a(this,v,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:!0}),a(this,m,{writable:!0,value:async()=>({audio:"",marks:[]})}),a(this,y,{writable:!0,value:[]}),a(this,w,{writable:!0,value:""}),a(this,b,{writable:!0,value:""}),a(this,E,{writable:!0,value:new AbortController}),a(this,k,{writable:!0,value:!1}),u(this,b,null!==(t=null===e||void 0===e?void 0:e.lang)&&void 0!==t?t:c(this,b)),u(this,v,window.speechSynthesis),u(this,f,new SpeechSynthesisUtterance(c(this,w))),u(this,g,null!==(n=null===e||void 0===e?void 0:e.dispatchBoundaries)&&void 0!==n?n:c(this,g)),null!==e&&void 0!==e&&e.fetchAudioData?(u(this,f,u(this,v,new Audio)),u(this,m,e.fetchAudioData)):(o(this,C,I).call(this,null===e||void 0===e?void 0:e.voice),window.speechSynthesis&&(window.speechSynthesis.onvoiceschanged=()=>{o(this,C,I).call(this,null===e||void 0===e?void 0:e.voice)}))}get synthesizer(){return c(this,v)}get target(){return c(this,f)}set text(e){u(this,w,e),c(this,f)instanceof SpeechSynthesisUtterance&&(c(this,f).text=e)}get paused(){return c(this,v).paused}get rate(){return c(this,v)instanceof HTMLAudioElement?c(this,v).playbackRate:c(this,f).rate}set rate(e){const t=o(this,N,ne).call(this,parseFloat(e.toPrecision(3)),.1,10);Number.isNaN(t)||(o(this,R,J).call(this,t),c(this,v)instanceof HTMLAudioElement&&(c(this,v).defaultPlaybackRate=t,c(this,v).playbackRate=t),c(this,f)instanceof SpeechSynthesisUtterance&&(c(this,f).rate=t))}get pitch(){return c(this,f)instanceof SpeechSynthesisUtterance?c(this,f).pitch:-1}set pitch(e){if(c(this,f)instanceof SpeechSynthesisUtterance){const t=o(this,N,ne).call(this,parseFloat(e.toPrecision(2)),0,2);Number.isNaN(t)||(o(this,z,K).call(this,t),c(this,f).pitch=t)}}get volumeMin(){return 0}get volumeMax(){return 1}get volume(){return c(this,f).volume}set volume(e){const t=o(this,N,ne).call(this,parseFloat(e.toPrecision(2)),this.volumeMin,this.volumeMax);Number.isNaN(t)||(o(this,T,Z).call(this,t),c(this,f).volume=t)}get preservesPitch(){return c(this,v)instanceof HTMLAudioElement&&c(this,v).preservesPitch}set preservesPitch(e){c(this,v)instanceof HTMLAudioElement&&(c(this,v).preservesPitch=e)}get lang(){return c(this,b)}set lang(e){c(this,f)instanceof SpeechSynthesisUtterance&&(u(this,b,e),c(this,f).lang=e,c(this,f).voice=null,o(this,C,I).call(this))}async init(){c(this,k)||(c(this,f)instanceof SpeechSynthesisUtterance&&o(this,D,se).call(this),c(this,f)instanceof HTMLAudioElement&&await o(this,U,re).call(this),u(this,k,!0))}async play(){c(this,v)instanceof HTMLAudioElement?await o(this,j,Q).call(this):c(this,v).speak(c(this,f))}pause(){c(this,v).pause()}async resume(){c(this,v)instanceof HTMLAudioElement?await o(this,j,Q).call(this):c(this,v).resume()}async replay(){c(this,v)instanceof HTMLAudioElement?(c(this,v).load(),await o(this,j,Q).call(this)):(c(this,v).resume(),c(this,v).cancel(),c(this,v).speak(c(this,f)))}cancel(){c(this,v)instanceof HTMLAudioElement?c(this,v).load():c(this,v).cancel()}mute(){this.volume=0,c(this,v)instanceof HTMLAudioElement||this.paused||!c(this,v).speaking||this.replay()}unmute(e){this.volume=null!==e&&void 0!==e?e:1,c(this,v)instanceof HTMLAudioElement||this.paused||!c(this,v).speaking||this.replay()}}function I(e){if(c(this,f)instanceof SpeechSynthesisUtterance){let n=window.speechSynthesis.getVoices();var t;if(e&&(c(this,f).voice=e),c(this,b))n=n.filter((e=>e.lang===c(this,b))),c(this,f).voice=null!==(t=n[0])&&void 0!==t?t:null,e&&e.lang===c(this,b)&&(c(this,f).voice=e)}}async function _(){if(c(this,v)instanceof HTMLAudioElement){let i=null;try{i=await c(this,m).call(this,c(this,w))}catch(n){n instanceof Error&&o(this,x,F).call(this,n.message)}finally{var e,t;if(null!==(e=i)&&void 0!==e&&e.audio)c(this,v).src=i.audio,u(this,y,null!==(t=i.marks)&&void 0!==t?t:c(this,y))}}}function Y(e){this.dispatchEvent(new CustomEvent(p.END,{detail:e}))}function F(e){this.dispatchEvent(new CustomEvent(p.ERROR,{detail:e}))}function G(){this.dispatchEvent(new Event(p.READY))}function q(e){this.dispatchEvent(new CustomEvent(p.PLAYING,{detail:e}))}function X(e){this.dispatchEvent(new CustomEvent(p.PAUSED,{detail:e}))}function $(e,t){this.dispatchEvent(new CustomEvent(p.BOUNDARY,{detail:{evt:e,boundary:t}}))}function Z(e){this.dispatchEvent(new CustomEvent(p.VOLUME,{detail:e}))}function J(e){this.dispatchEvent(new CustomEvent(p.RATE,{detail:e}))}function K(e){this.dispatchEvent(new CustomEvent(p.PITCH,{detail:e}))}async function Q(){const e=c(this,v);try{await e.play()}catch(t){t instanceof Error&&o(this,x,F).call(this,t.message)}}function ee(e){const t=c(this,y).length;let n=c(this,y)[0],i=!1,s=1;for(;s<t&&!i;)c(this,y)[s].time<=e?n=c(this,y)[s]:i=!0,s++;return n}function te(e){const t=c(this,w).substring(e).match(/.+?\b/);return t?t[0].length:0}function ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(e,n))}function ie(){return c(this,E).abort(),u(this,E,new AbortController),c(this,E).signal}function se(){if(c(this,f)instanceof SpeechSynthesisUtterance){const e=o(this,B,ie).call(this);c(this,f).addEventListener("end",o(this,L,Y).bind(this),{signal:e}),c(this,f).addEventListener("start",o(this,P,q).bind(this),{signal:e}),c(this,f).addEventListener("resume",o(this,P,q).bind(this),{signal:e}),c(this,f).addEventListener("pause",o(this,A,X).bind(this),{signal:e}),c(this,f).addEventListener("error",(e=>{o(this,x,F).call(this,e.error)}),{signal:e}),c(this,b)&&(c(this,f).lang=c(this,b)),c(this,g)&&c(this,f).addEventListener("boundary",(e=>{var t;const{charIndex:n}=e,i=n+(null!==(t=e.charLength)&&void 0!==t?t:o(this,W,te).call(this,n)),s=c(this,w).substring(n,i);s&&!(e=>{const t=e.trim();return d.test(t)&&1===t.length})(s)&&o(this,O,$).call(this,e,{word:s,startChar:n,endChar:i})}),{signal:e}),o(this,S,G).call(this)}}async function re(){if(c(this,f)instanceof HTMLAudioElement){const e=c(this,f);c(this,f).addEventListener("canplay",o(this,S,G).bind(this),{once:!0}),c(this,f).addEventListener("playing",o(this,P,q).bind(this)),c(this,f).addEventListener("pause",o(this,A,X).bind(this)),c(this,f).addEventListener("ended",o(this,L,Y).bind(this)),c(this,f).addEventListener("error",(()=>{const t=e.error;o(this,x,F).call(this,null===t||void 0===t?void 0:t.message)})),c(this,g)&&c(this,f).addEventListener("timeupdate",(t=>{const n=1e3*e.currentTime,i=o(this,H,ee).call(this,n);i&&!this.paused&&o(this,O,$).call(this,t,{word:i.value,startChar:i.start,endChar:i.end})})),await o(this,M,_).call(this)}}var ae=n(184);const oe=e=>{let{text:t,mark:n,color:s,backgroundColor:r}=e;const a=(0,i.useMemo)((()=>(e=>{let{color:t,backgroundColor:n}=e;return{color:t,backgroundColor:n}})({color:s,backgroundColor:r})),[s,r]);if(t&&n){const e=t.toString(),i=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),s=new RegExp("(".concat(i,")"),"gi"),r=e.split(s);if(r.length>1)return(0,ae.jsx)("span",{children:r.map(((e,t)=>{const n="".concat(e,"-").concat(t);return e?s.test(e)?(0,ae.jsx)("mark",{style:a,children:e},n):(0,ae.jsx)("span",{children:e},n):null}))})}return(0,ae.jsx)(ae.Fragment,{children:t})},le=e=>{let{children:t,buffer:n,boundary:s,markColor:r,markBackgroundColor:a,markTextAsSpoken:o}=e;return i.Children.map(t,(e=>{let t=e;if((0,i.isValidElement)(e)&&(t=(0,i.cloneElement)(e,{...e.props,children:le({buffer:n,boundary:s,markColor:r,markBackgroundColor:a,markTextAsSpoken:o,children:e.props.children})})),"string"===typeof(l=e)||"number"===typeof l){const t=e.toString(),{word:i,startChar:l,endChar:c}=s,u=n.text.length;if(n.text+="".concat(t," "),o&&i){const e=l-u,n=c-u,i=t.substring(0,e),s=t.substring(e,n),o=t.substring(n,t.length);if(s)return(0,ae.jsxs)(ae.Fragment,{children:[i,(0,ae.jsx)(oe,{text:s,mark:h(s),color:r,backgroundColor:a}),o]})}}var l;return t}))},ce={word:"",startChar:0,endChar:0},ue=(e,t)=>{switch(t.type){case"pause":return{...e,isPlaying:!1,isPaused:!0,isError:!1};case"play":case"reset":return{...e,isPlaying:!0,isPaused:!1,isError:!1,boundary:ce};case"end":return{...e,isPlaying:!1,isPaused:!1,isError:!1,boundary:ce};case"error":return{...e,isPlaying:!1,isPaused:!1,isError:!0,boundary:ce};case"ready":return{...e,isReady:!0};case"boundary":return{...e,boundary:{...e.boundary,...t.payload}};case"voices":return{...e,voices:t.payload};case"stop":return{...e,isPlaying:!1,isPaused:!1,isError:!1};case"muted":return{...e,isMuted:!0};case"unmuted":return{...e,isMuted:!1}}};var de=n(255);const he={[de.u8.SMALL]:5,[de.u8.MEDIUM]:5,[de.u8.LARGE]:5},pe=e=>{let{title:t,type:n,onClick:s,size:r=de.u8.MEDIUM,align:a="horizontal",...o}=e;const l="tts-react-controls",c=(0,i.useMemo)((()=>de.ci[n](r)),[n,r]),u=(0,i.useMemo)((()=>(e=>{let{size:t,align:n,type:i}=e;const s={margin:0,padding:"".concat(he[t],"px"),border:"none",borderRadius:"".concat(de._E[t],"px"),color:"black",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"transparent"};if("replay"===i){const e="-".concat(de._E[t]+2*he[t]+5,"px"),i="horizontal"===n?"right":"bottom";return{...s,[i]:e,position:"absolute",background:"#f2f1f1a6",zIndex:9999}}return s})({size:r,align:a,type:n})),[r,a,n]);return(0,i.useEffect)((()=>{let e=document.querySelector('style[data-id="'.concat(l,'"]'));return e||(e=document.createElement("style"),e.setAttribute("data-id",l),e.innerHTML='\n        button[data-tts-react-control]:hover {\n          background-color: #ebeaeaa6 !important;\n        }\n        button[data-id="tts-react-replay"]:hover {\n          filter: brightness(0.98);\n        }\n      ',document.head.appendChild(e)),()=>{e=null}}),[a,r,n]),(0,ae.jsx)("button",{title:t,"data-tts-react-control":!0,"data-id":"tts-react-".concat(n),onClick:s,style:u,dangerouslySetInnerHTML:{__html:c},...o})};var fe=function(e){return e.TL="topLeft",e.TR="topRight",e.BL="bottomLeft",e.BR="bottomRight",e.TC="topCenter",e.RC="rightCenter",e.BC="bottomCenter",e.LC="leftCenter",e}(fe||{});const ve=e=>{let{size:t,lang:n,rate:s,voice:r,volume:a,children:o,position:l,onStart:c,onPause:u,onBoundary:d,onEnd:h,onError:f,onMuteToggled:v,onVolumeChange:g,onPitchChange:m,onRateChange:y,fetchAudioData:w,markColor:b,markBackgroundColor:E,autoPlay:k=!1,allowMuting:C=!0,align:M="horizontal",markTextAsSpoken:L=!1,useStopOverPause:x=!1}=e;const{state:S,replay:P,toggleMute:A,playOrPause:O,playOrStop:T,ttsChildren:R}=(e=>{var t,n;let{lang:s,rate:r,volume:a,voice:o,children:l,markColor:c,markBackgroundColor:u,onStart:d,onPause:h,onBoundary:f,onEnd:v,onError:g,onVolumeChange:m,onPitchChange:y,onRateChange:w,fetchAudioData:b,autoPlay:E=!1,markTextAsSpoken:k=!1}=e;const C=(0,i.useRef)(),[M,L]=(0,i.useReducer)(ue,{voices:null!==(t=null===(n=window.speechSynthesis)||void 0===n?void 0:n.getVoices())&&void 0!==t?t:[],boundary:ce,isPlaying:!1,isPaused:!1,isMuted:!1,isError:!1,isReady:"undefined"===typeof b}),[x,S]=(0,i.useMemo)((()=>{if("undefined"===typeof C.current||k){const e={text:""},t=le({children:l,buffer:e,markColor:c,markBackgroundColor:u,markTextAsSpoken:k,boundary:M.boundary});return C.current=e.text.trim(),[t,C.current]}return[l,C.current]}),[l,M.boundary,c,u,k]),P=(0,i.useMemo)((()=>new V({lang:s,voice:o,fetchAudioData:b})),[s,o,b]),A=(0,i.useCallback)((async()=>{M.isPaused?P.resume():P.replay(),L({type:"play"})}),[P,M.isPaused]),O=(0,i.useCallback)((()=>{P.pause(),L({type:"pause"})}),[P]),T=(0,i.useCallback)((()=>{P.replay(),L({type:"reset"})}),[P]),R=(0,i.useCallback)((()=>{P.cancel(),L({type:"stop"})}),[P]),z=(0,i.useCallback)((e=>{const t=parseFloat(P.volume.toFixed(2))===P.volumeMin;t?(P.unmute(),L({type:"unmuted"})):(P.mute(),L({type:"muted"})),"function"===typeof e&&e(t)}),[P]),j=(0,i.useMemo)((()=>M.isPlaying?O:A),[M.isPlaying,O,A]),H=(0,i.useMemo)((()=>M.isPlaying?R:A),[M.isPlaying,R,A]),[W,N]=(0,i.useMemo)((()=>[{lang:()=>P.lang,rate:()=>P.rate,pitch:()=>P.pitch,volume:()=>P.volume,preservesPitch:()=>P.preservesPitch},{lang(e){P.lang=e},rate(e){P.rate=e},pitch(e){P.pitch=e},volume(e){P.volume=e},preservesPitch(e){P.preservesPitch=e}}]),[P]),B=(0,i.useCallback)((e=>{L({type:"play"}),"function"===typeof d&&d(e.detail)}),[d]),D=(0,i.useCallback)((e=>{"function"===typeof h&&h(e.detail)}),[h]),U=(0,i.useCallback)((e=>{L({type:"end"}),"function"===typeof v&&v(e.detail)}),[v]),I=(0,i.useCallback)((()=>{L({type:"ready"})}),[]),_=(0,i.useCallback)((e=>{L({type:"error"}),"function"===typeof g&&g(e.detail)}),[g]),Y=(0,i.useCallback)((e=>{L({type:"boundary",payload:e.detail.boundary}),"function"===typeof f&&f(e.detail.boundary,e.detail.evt)}),[f]),F=(0,i.useCallback)((e=>{const t=e.detail,n=P.volumeMin;t===n&&P.volume!==n&&L({type:"muted"}),t!==n&&P.volume===n&&L({type:"unmuted"}),"function"===typeof m&&m(t)}),[m,P]),G=(0,i.useCallback)((e=>{"function"===typeof y&&y(e.detail)}),[y]),q=(0,i.useCallback)((e=>{"function"===typeof w&&w(e.detail)}),[w]);return(0,i.useEffect)((()=>{P.text=S}),[S,P]),(0,i.useEffect)((()=>{r&&Number.isFinite(r)&&(P.rate=r),a&&Number.isFinite(a)&&(P.volume=a)}),[P,r,a]),(0,i.useEffect)((()=>{const e=()=>{P.cancel()};return(async()=>{P.addEventListener(p.PLAYING,B),P.addEventListener(p.PAUSED,D),P.addEventListener(p.END,U),P.addEventListener(p.ERROR,_),P.addEventListener(p.READY,I),P.addEventListener(p.BOUNDARY,Y),P.addEventListener(p.VOLUME,F),P.addEventListener(p.PITCH,G),P.addEventListener(p.RATE,q),window.addEventListener("beforeunload",e),await P.init()})(),()=>{window.removeEventListener("beforeunload",e),P.removeEventListener(p.PLAYING,B),P.removeEventListener(p.PAUSED,D),P.removeEventListener(p.END,U),P.removeEventListener(p.ERROR,_),P.removeEventListener(p.READY,I),P.removeEventListener(p.BOUNDARY,Y),P.removeEventListener(p.VOLUME,F),P.removeEventListener(p.PITCH,G),P.removeEventListener(p.RATE,q)}}),[B,Y,D,U,I,_,f,F,G,q,P]),(0,i.useEffect)((()=>{E&&M.isReady&&(P.replay(),L({type:"play"}))}),[E,P,M.isReady,S]),(0,i.useEffect)((()=>{var e;const t=()=>{L({type:"voices",payload:window.speechSynthesis.getVoices()})};return"function"===typeof(null===(e=window.speechSynthesis)||void 0===e?void 0:e.addEventListener)&&window.speechSynthesis.addEventListener("voiceschanged",t),()=>{var e;"function"===typeof(null===(e=window.speechSynthesis)||void 0===e?void 0:e.removeEventListener)&&window.speechSynthesis.removeEventListener("voiceschanged",t)}}),[]),{get:W,set:N,state:M,spokenText:S,ttsChildren:x,play:A,stop:R,pause:O,replay:T,playOrStop:H,playOrPause:j,toggleMute:z}})({lang:n,rate:s,voice:r,volume:a,children:o,onStart:c,onPause:u,onBoundary:d,onEnd:h,onError:f,onVolumeChange:g,onPitchChange:m,onRateChange:y,fetchAudioData:w,autoPlay:k,markColor:b,markBackgroundColor:E,markTextAsSpoken:L}),z=(0,i.useMemo)((()=>(e=>{let{position:t=fe.LC}=e,n="'cnt ctl'",i="1fr auto",s="start";switch(t){case fe.TL:n="'ctl cnt'",i="auto 1fr";break;case fe.BL:n="'ctl cnt'",s="end",i="auto 1fr";break;case fe.BR:n="'cnt ctl'",s="end";break;case fe.TC:i="1fr",n="'ctl'\n'cnt'",s="center";break;case fe.RC:s="center";break;case fe.BC:i="1fr",n="'cnt'\n'ctl'",s="center";break;case fe.LC:n="'ctl cnt'",i="auto 1fr",s="center"}return{alignItems:s,gridTemplateAreas:n,gridTemplateColumns:i,display:"grid",gap:"15px"}})({position:l})),[l]),j=(0,i.useMemo)((()=>(e=>{let{align:t,position:n=fe.LC,size:i=de.u8.MEDIUM}=e;return{position:"relative",display:"inline-flex",flexDirection:"horizontal"===t?"row":"column",gap:"5px",gridArea:"ctl",padding:0,margin:n.includes("Center")?"auto":0,backgroundColor:"#f2f1f1a6",borderRadius:"".concat(de._E[i]+he[i],"px"),border:"1px solid transparent"}})({align:M,position:l,size:t})),[M,l,t]),H=(0,i.useMemo)((()=>({gridArea:"cnt"})),[]),[W,N,B]=(0,i.useMemo)((()=>S.isPlaying?x?["stop","Stop",T]:["pause","Pause",O]:["play","Play",O]),[S.isPlaying,x,T,O]),D=(0,i.useCallback)((()=>{A(v)}),[A,v]);return(0,ae.jsxs)("div",{style:z,className:"tts-react",children:[S.isReady&&(0,ae.jsxs)("aside",{style:j,children:[C&&(0,ae.jsx)(pe,{size:t,align:M,title:S.isMuted?"Unmute":"Mute","aria-label":S.isMuted?"Unmute":"Mute",onClick:D,type:S.isMuted?"volumeOff":S.isPlaying?"volumeUp":"volumeDown"}),(0,ae.jsx)(pe,{type:W,title:N,"aria-label":N,onClick:B,size:t,align:M}),S.isPaused&&(0,ae.jsx)(pe,{type:"replay",size:t,align:M,title:"Replay","aria-label":"Replay",onClick:P})]}),(0,ae.jsx)("div",{style:H,children:R})]})}},255:(e,t,n)=>{n.d(t,{_E:()=>s,ci:()=>r,u8:()=>i});var i=function(e){return e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e}(i||{});const s={small:16,medium:24,large:32},r={play:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M8 5v14l11-7z" />\n      </svg>\n    '),pause:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" />\n      </svg>\n    '),stop:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M6 6h12v12H6z" />\n      </svg>\n    '),replay:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />\n      </svg>\n    '),volumeDown:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z" />\n      </svg>\n    '),volumeOff:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z" />\n      </svg>\n    '),volumeUp:e=>'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        height="'.concat(s[e],'px"\n        viewBox="0 0 24 24"\n        width="').concat(s[e],'px"\n        fill="#000000">\n        <style>\n          svg {\n            cursor: pointer;\n          }\n        </style>\n        <path d="M0 0h24v24H0z" fill="none" />\n        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />\n      </svg>\n    ')}}}]);
//# sourceMappingURL=5272.f70e8f6b.chunk.js.map